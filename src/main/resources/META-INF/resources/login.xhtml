<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<f:facet name="first">
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="viewport"
			content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
		<meta name="apple-mobile-web-app-capable" content="yes" />

		<link href="#{resource['/images/favicon.png']}" rel="icon"
			type="image/png" sizes="32x32" />
		<link href="#{resource['/images/favicon.png']}" rel="icon"
			type="image/png" sizes="16x16" />

	</f:facet>
	<title>#{dadosSistemaBean.dadosSistema.sigla}</title>

	<!-- **JS** -->
	<!-- OPTIONAL DEPENDENCIES -->
	<!-- When enabled, ripple animation is activated. -->
	<h:outputScript name="ripple/ripple.js" library="layout"
		rendered="#{app.ripple}" />
		
	<h:outputStylesheet library="webjars" name="font-awesome/6.5.2/css/all.min-jsf.css" />
	<h:outputStylesheet library="webjars" name="font-awesome/6.5.2/css/v4-shims.min-jsf.css" />
		
	 <script type="text/javascript">
		//<![CDATA[		
		function checkCapsLock(event) {
	        var capsLockOn = event.getModifierState && event.getModifierState('CapsLock');
	        var messageElement = document.getElementById('capsLockMessage');

	        if (capsLockOn) {
	            messageElement.style.display = 'block';
	        } else {
	            messageElement.style.display = 'none';
	        }
	    }
				
		//]]>
	</script>
	
	<style>
    
     @keyframes blink {
        0%, 100% {
            opacity: 1;
        }
        50% {
            opacity: 0;
        }
    }

    #capsLockMessage {
        color: red;
        font-weight: bold;
        animation: blink 0.4s 3;
    }
    
    </style>
		
</h:head>

<h:body styleClass="pages-body login-page flex flex-column">

	<div class="align-self-center mt-auto mb-auto">
		<div class="pages-panel card flex flex-column">
			<div class="pages-header px-3 py-1">
				<p:graphicImage id="app-logo" cache="false" value="#{dadosSistemaBean.logoPrincipal}" />
			</div>

			<h4>
				#{dadosSistemaBean.dadosSistema.nome}
			</h4>

			<div class="pages-detail mb-6 px-6">
				<h:outputText value="#{msg['login.bemvindo']}" />
				<ui:include src="/includes/banner_ambiente.xhtml"/>				
			</div>
			<h:form id="login" prependId="false">

				<p:growl id="growl" showDetail="true">
					<f:event type="preRenderComponent"
						listener="#{loginBean.preRender}" />
					<f:attribute name="error"
						value="${SPRING_SECURITY_LAST_EXCEPTION.message}" />
				</p:growl>

				<div class="input-panel flex flex-column px-3">

					<div class="ui-inputgroup">
						<span class="ui-inputgroup-addon"> <i class="pi pi-user"></i>
						</span> <span class="ui-float-label flex align-items-stretch w-full">
							<p:inputText autocomplete="off" title="Informe o Usuário"
								id="usuario" /> <p:outputLabel for="@previous" value="Usuário" />
						</span>
					</div>

					<div class="ui-inputgroup mt-5 mb-3">
						<span class="ui-inputgroup-addon"> <i class="pi pi-lock"></i>
						</span> <span class="ui-float-label flex align-items-stretch w-full">
							<p:password styleClass="w-full" title="Informe a Senha" maxlength="50" onkeyup="checkCapsLock(event)"
								id="senha" /> <p:outputLabel for="@previous" value="Senha" />
						</span>
					</div>
					<p style="color: red; display: none;font-size: 15px!important;" id="capsLockMessage">
        				Caps Lock Ativado!</p>
				</div>

				<div class="ui-g-12 ui-lg-4 ui-sm-12" style="margin-bottom: 10px">
					<h:outputLink value="recuperarSenha.xhtml" style="color:black!important;font-size:12px;text-decoration:underline">
                       Esqueceu a Senha?
                    </h:outputLink>
				</div>

				<p:commandButton icon="pi pi-sign-in" value="ENTRAR" ajax="false"
					styleClass="login-button mb-6 px-6" style="min-width:100%" />

			</h:form>
		</div>
	</div>

	<!-- **CSS** -->
	<!-- LAYOUT DEPENDENCIES -->
	<h:outputStylesheet name="styles/#{app.layout}.css" library="layout" />

	<!-- OPTIONAL DEPENDENCIES -->
	<!-- PrimeFlex is a lightweight responsive CSS utility library. This app contains two seperate packages; primeflex.min.css(v3.x) and primeflex-v2.min.css(v2.x) -->
	<h:outputStylesheet name="primeflex/primeflex.min.css" library="layout" />
	<!-- When enabled, ripple animation is activated. -->
	<h:outputStylesheet name="ripple/ripple.css" library="layout"
		rendered="#{app.ripple}" />

	<h:outputStylesheet name="styles/demo.css" library="demo" />
	<style>
body .ui-button.ui-button-text-icon-left .ui-icon {
	position: absolute;
	top: 50%;
	left: 45% !important;
	margin-top: -0.5rem;
	left: 0.5rem;
}
</style>
</h:body>

</html>